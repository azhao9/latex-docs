M=[1 4 -63 -7 2 2 0 -21 0; 
0 8 -226 -33 10 9 49 -1 107;
0 9 -199 -51 10 3 25 -25 55;
0 2 24 45 -6 3 -45 -15 25];
% swap rows 3 and 5
M(:,[3, 5])=M(:,[5, 3]);
A=rref(M)

A =

    1.0000         0         0         0    3.0000    0.3333    5.0000   -6.0000  -25.0000
         0    1.0000         0         0   -9.0000         0   -6.0000   -6.0000    2.0000
         0         0    1.0000         0  -22.0000    2.0000   13.0000    8.0000   19.0000
         0         0         0    1.0000   -2.0000    0.3333    1.0000    1.0000    3.0000

% use column 7 since first row value is greatest
% pivot on row 4 since 19/13 is smallest
% swap columns 3 and 7
A(:, [3, 7])=A(:, [7, 3]);
B=rref(A)

B =

    1.0000         0         0         0   11.4615   -0.4359   -0.3846   -9.0769  -32.3077
         0    1.0000         0         0  -19.1538    0.9231    0.4615   -2.3077   10.7692
         0         0    1.0000         0   -1.6923    0.1538    0.0769    0.6154    1.4615
         0         0         0    1.0000   -0.3077    0.1795   -0.0769    0.3846    1.5385

% use column 5 since first row value is greatest
% all entries in column 5 are negative, so function is unbounded.
diary off
